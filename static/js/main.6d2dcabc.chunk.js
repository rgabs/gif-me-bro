(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(26)},19:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c),o=(n(19),n(1)),u=n(2),l=n(6),s={},f=function(e,t){s.allGifs=Object(l.a)({},s.allGifs,t.reduce(function(e,t){return e[t.id]?e:Object(l.a)({},e,Object(u.a)({},t.id,t))},{})),s.searchStringsMap=Object(l.a)({},s.searchStringsMap,Object(u.a)({},e.toLowerCase(),t.map(function(e){return e.id})))},m=function(){sessionStorage.setItem("cache",JSON.stringify(s))},d=function(e){return{newGifs:e.data.map(function(e){var t=e.id,n=e.images;return{id:t,title:e.title,gifUrl:n.downsized_medium.url,stillUrl:n["480w_still"].url,aspectRatio:n.downsized_medium.width/n.downsized_medium.height,height:Number(n.downsized_medium.height)}}),total:e.pagination.total_count}},h=n(12),p=n(3),g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return fetch("https://api.giphy.com/v1/gifs/search?api_key=".concat("kVHHyZckoyzVBz92p2sdzGIOE50ewYm4","&q=").concat(e,"&limit=").concat(n,"&offset=").concat(t)).then(function(e){return e.json()}).then(d)},b=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),u=Object(o.a)(i,2),l=u[0],m=u[1],d=Object(a.useState)(),h=Object(o.a)(d,2),b=h[0],v=h[1],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)(function(){return window.onscroll=function(){var t=document.documentElement,n=t.scrollTop+window.innerHeight,a=t.offsetHeight;c(a-n<e)},function(){return window.onscroll=null}},[]),r}(500),w=function(e,t){var n=Object(a.useState)(e),r=Object(o.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)(function(){var n=setTimeout(function(){i(e)},t);return function(){clearTimeout(n)}},[e]),c}(e,500);return Object(a.useEffect)(function(){O&&b!==r.length&&(m(!0),g(w,r.length).then(function(e){var t=e.newGifs,n=[].concat(Object(p.a)(r),Object(p.a)(t));return c(n),n}).then(function(e){return f(w,e)}).finally(function(){return m(!1)}))},[O]),Object(a.useEffect)(function(){return w?(t=w,s.searchStringsMap&&s.searchStringsMap.hasOwnProperty(t)?c((e=w,s.searchStringsMap[e.toLowerCase()].map(function(e){return s.allGifs[e]}))):(m(!0),c([]),void g(w,r.length).then(function(e){var t=e.newGifs,n=e.total;return c(t),v(n),t}).then(function(e){return f(w,e)}).finally(function(){return m(!1)}))):c([]);var e,t},[w]),{gifs:r,loadState:l}},v=n(11),O=n.n(v),w=function(e){var t=e.gifUrl,n=e.stillUrl,c=e.title,i=e.aspectRatio,u=e.width,l=Object(a.useState)(n),s=Object(o.a)(l,2),f=s[0],m=s[1],d={width:u,height:u/i};return r.a.createElement("div",{style:d,className:"image-container"},r.a.createElement("div",{className:"video-controls"},r.a.createElement("span",{onClick:function(){return m(f===t?n:t)},className:"control-icon ".concat(f===t?"pause":"play")})),r.a.createElement(O.a,{image:{src:f},zoomImage:{src:t},shouldReplaceImage:!1,alt:c,defaultStyles:{image:{width:"100%"}}}),r.a.createElement("br",null))},j=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=[],r=0;r<t;r++)a.push({maxHeight:0,columnData:[]});return e.forEach(function(e){var t=function(e){var t=e.map(function(e){return e.maxHeight});return t.indexOf(Math.min.apply(Math,Object(p.a)(t)))}(a);a[t].columnData.push(e),a[t].maxHeight+=e.height+n}),a.map(function(e){return e.columnData})},E=function(e){var t=e.searchText,n=Object(a.useState)(2),c=Object(o.a)(n,2),i=c[0],u=c[1],l=Object(a.useState)(0),s=Object(o.a)(l,2),f=s[0],m=s[1],d=b(t),p=d.gifs,g=d.loadState,v=Object(a.useRef)(null),O=j(p,i,10);return Object(a.useEffect)(function(){if(v.current){var e=function(){m(v.current.offsetWidth)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}},[p]),0!==p.length||g?r.a.createElement("div",{className:"grid-wrapper"},r.a.createElement("div",{className:"column-size-container"},r.a.createElement("span",null,"Items per row:"),r.a.createElement("select",{onChange:function(e){return u(e.target.value)},value:i,className:"column-size-select"},[2,3,4,5].map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{ref:v,className:"grid"},O.map(function(e,t){return r.a.createElement("div",{key:t,style:{padding:"10px"}},e.map(function(e){var t=e.id,n=Object(h.a)(e,["id"]);return r.a.createElement(w,Object.assign({key:t},n,{width:f/i-20}))}))})),g?r.a.createElement("p",{align:"center"},"Loading..."):null):r.a.createElement("p",null,"NO GIFS")},S=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){return function(){try{var e=JSON.parse(sessionStorage.getItem("cache"));"object"===typeof e&&null!==e&&(s=e)}catch(t){}}(),window.addEventListener("beforeunload",m),function(){return window.removeEventListener("beforeunload",m)}},[]),r.a.createElement("div",{className:"App"},r.a.createElement("h3",{align:"center"},"Hello! I am GIF-me-bro. I will gif you for all kind of inputs. ",r.a.createElement("br",null),"Happy Gifing ;)"),r.a.createElement("input",{className:"search-input",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement(E,{searchText:n}))};i.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.6d2dcabc.chunk.js.map